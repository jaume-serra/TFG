<%- include('../partials/head') %>
    <%- include('../partials/navbar') %>

        <body>

            <div class="w-11/12 mx-auto relative shadow-2xl mb-24 rounded  overflow-hidden">
                <div class="top h-52 w-full bg-blue-600 overflow-hidden relative">
                    <img src="https://images.unsplash.com/photo-1503264116251-35a269479413?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1050&q=80"
                        alt="" class="bg w-full h-full object-cover object-center absolute z-0">
                    <div
                        class="flex flex-col justify-center items-center relative h-full bg-black bg-opacity-50 text-white">
                        <img src="<%= user.image %>" class="h-24 w-24 object-cover rounded-full">
                        <h1 class="text-2xl font-semibold">
                            <%= user.displayName %>
                        </h1>
                        <h4 class="text-sm font-semibold">
                            <%= user.email %>
                        </h4>
                    </div>
                </div>
                <div class="grid grid-cols-12 bg-white ">

                    <div
                        class="col-span-12 w-full px-3 py-6 justify-center flex space-x-4 border-b border-solid md:space-x-0 md:space-y-4 md:flex-col md:col-span-2 md:justify-start ">

                        <a href="#" class="text-sm p-2 bg-indigo-900 text-white text-center rounded font-bold">Perfil
                        </a>

                        <a href="/user/spacerent"
                            class="text-sm p-2 bg-indigo-200 text-center rounded font-semibold hover:bg-indigo-700 hover:text-gray-200">Espais
                            llogats</a>

                        <a href="/user/myspaces"
                            class="text-sm p-2 bg-indigo-200 text-center rounded font-semibold hover:bg-indigo-700 hover:text-gray-200">Els
                            meus espais
                        </a>

                    </div>

                    <div
                        class="col-span-12 md:border-solid md:border-l md:border-black md:border-opacity-25 h-full pb-12 md:col-span-10">
                        <div class="px-4 pt-4">
                            <form enctype="multipart/form-data" method="POST" class="flex flex-col space-y-10">

                                <div>
                                    <h3 class="text-2xl font-semibold">Perfil</h3>
                                    <hr>
                                </div>

                                <div class="form-item w-full md:w-10/12 ">
                                    <label class="text-xl ">Nom i cognoms</label>
                                    <input type="text" name="displayName" value="<%= user.displayName%>"
                                        class="w-full appearance-none text-black text-opacity-75 rounded shadow py-1 px-2  mr-2 focus:outline-none focus:shadow-outline focus:border-blue-200">
                                </div>

                                <div class="form-item w-full md:w-10/12  ">
                                    <label class="text-xl ">Tel√®fon</label>
                                    <input type="tel" name="phone" value="<%= user.phone %>"
                                        class="w-full appearance-none text-black text-opacity-75 rounded shadow py-1 px-2 mr-2 focus:outline-none focus:shadow-outline focus:border-blue-200">
                                </div>
                                <div class="form-item w-full md:w-9/12 hidden">
                                    <label class="text-xl ">Email</label>
                                    <input type="text" name="email" value="<%= user.email %>"
                                        class="w-full appearance-none text-black text-opacity-75 rounded shadow py-1 px-2 mr-2 focus:outline-none focus:shadow-outline focus:border-blue-200 ">
                                </div>
                                <div class="form-item w-full">
                                    <label for="file" class="text-xl ">Imatge perfil</label>
                                    <input class="cursor-pointer w-full  py-2" type="file" name="file"=" image/*">
                                </div>
                                <div class="flex flex-wrap gap-x-8">
                                    <div class="form-item w-full md:w-5/12">
                                        <label class="text-xl ">Contrasenya</label>
                                        <input type="password" name="password" placeholder="******"
                                            class="w-full appearance-none text-black text-opacity-75 rounded shadow py-1 px-2 mr-2 focus:outline-none focus:shadow-outline focus:border-blue-200 ">
                                    </div>
                                    <div class="form-item w-full md:w-5/12">
                                        <label class="text-xl ">Repetir Contrasenya</label>
                                        <input type="password" name="newPassword" placeholder="******"
                                            class="w-full appearance-none text-black text-opacity-75 rounded shadow py-1 px-2 mr-2 focus:outline-none focus:shadow-outline focus:border-blue-200 ">
                                    </div>
                                </div>
                                <button type="submit"
                                    class="flex rounded-lg bg-indigo-200 gap-x-2 w-36 h-10 py-1 px-4 items-center text-xl border-2 border-gray-700 hover:bg-indigo-700 hover:text-white ">
                                    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" width="1em"
                                        height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 16 16">
                                        <path fill="currentColor"
                                            d="M8.5 1.5A1.5 1.5 0 0 1 10 0h4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h6c-.314.418-.5.937-.5 1.5v7.793L4.854 6.646a.5.5 0 1 0-.708.708l3.5 3.5a.5.5 0 0 0 .708 0l3.5-3.5a.5.5 0 0 0-.708-.708L8.5 9.293V1.5z" />
                                    </svg>
                                    <p class="font-medium">Guardar</p>
                                </button>

                            </form>
                            <% if(!hide){ %>
                                <% if(msg && !(error)) {%>
                                    <div class=" w-full py-5" id="alertbox">
                                        <div class=" w-full bg-green-500 flex items-center text-white text-sm font-bold px-4 py-3 relative"
                                            role="alert">
                                            <svg class="fill-current w-4 h-4 mr-2" xmlns="http://www.w3.org/2000/svg"
                                                viewBox="0 0 20 20">
                                                <path
                                                    d="M12.432 0c1.34 0 2.01.912 2.01 1.957 0 1.305-1.164 2.512-2.679 2.512-1.269 0-2.009-.75-1.974-1.99C9.789 1.436 10.67 0 12.432 0zM8.309 20c-1.058 0-1.833-.652-1.093-3.524l1.214-5.092c.211-.814.246-1.141 0-1.141-.317 0-1.689.562-2.502 1.117l-.528-.88c2.572-2.186 5.531-3.467 6.801-3.467 1.057 0 1.233 1.273.705 3.23l-1.391 5.352c-.246.945-.141 1.271.106 1.271.317 0 1.357-.392 2.379-1.207l.6.814C12.098 19.02 9.365 20 8.309 20z" />
                                            </svg>
                                            <p>
                                                <%= msg %>
                                            </p>

                                            <span class="absolute top-0 bottom-0 right-0 px-4 py-3 closealertbutton">
                                                <svg class="fill-current h-6 w-6 text-white" role="button"
                                                    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
                                                    <title>Close</title>
                                                    <path
                                                        d="M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z" />
                                                </svg>
                                            </span>
                                        </div>
                                    </div>
                                    <% } else if(error && msg){ %>
                                        <div class="container py-5" id="alertbox">
                                            <div class="container bg-red-500 flex items-center text-white text-sm font-bold px-4 py-3 relative"
                                                role="alert">
                                                <svg class="fill-current w-4 h-4 mr-2"
                                                    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
                                                    <path
                                                        d="M12.432 0c1.34 0 2.01.912 2.01 1.957 0 1.305-1.164 2.512-2.679 2.512-1.269 0-2.009-.75-1.974-1.99C9.789 1.436 10.67 0 12.432 0zM8.309 20c-1.058 0-1.833-.652-1.093-3.524l1.214-5.092c.211-.814.246-1.141 0-1.141-.317 0-1.689.562-2.502 1.117l-.528-.88c2.572-2.186 5.531-3.467 6.801-3.467 1.057 0 1.233 1.273.705 3.23l-1.391 5.352c-.246.945-.141 1.271.106 1.271.317 0 1.357-.392 2.379-1.207l.6.814C12.098 19.02 9.365 20 8.309 20z" />
                                                </svg>
                                                <p>
                                                    <%= msg %>
                                                </p>

                                                <span
                                                    class="absolute top-0 bottom-0 right-0 px-4 py-3 closealertbutton">
                                                    <svg class="fill-current h-6 w-6 text-white" role="button"
                                                        xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
                                                        <title>Close</title>
                                                        <path
                                                            d="M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z" />
                                                    </svg>
                                                </span>
                                            </div>
                                        </div>
                                        <% } %>

                                            <% } %>

                        </div>
                    </div>


                </div>
            </div>

        </body>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.0/jquery.min.js"
            integrity="sha256-xNzN2a4ltkB44Mc/Jz3pT4iU1cmeR0FkXs4pru/JxaQ=" crossorigin="anonymous">
            </script>

        <script src="/public/js/closeAlert.js"></script>
        <%- include("../partials/footer") %>

            </html>